@extends('layouts.admin')
@section('content')
<div class="content">
    <div class="page-title mb-4">
        <h1>Dashboard</h1>
        <h6>Welcome to Pakistan Airforce Skyview</h6>
    </div>
    <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="custom-icons-body-dashboard">
                <div class="d-flex align-items-center w-100">
                    <div class="flex-grow-1">
                        <h3 class="chart--title-number mb-0" id="icons-1number">{{ number_format($settings1['total_number']) }}</h3>
                        <p class="mb-0 chart--title">{{ $settings1['chart_title'] }}
                    </div>
                    <div class="flex-shrink-0">
                        <div class="card-icon member-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" fill="none">
                                <path d="M23.8164 32.0775C25.9943 30.6276 27.6478 28.5153 28.5324 26.0529C29.4169 23.5906 29.4856 20.9089 28.7282 18.4046C27.9708 15.9002 26.4276 13.706 24.3267 12.1465C22.2258 10.5871 19.6789 9.74506 17.0625 9.74506C14.4461 9.74506 11.8991 10.5871 9.79828 12.1465C7.69742 13.706 6.15419 15.9002 5.3968 18.4046C4.63941 20.9089 4.70807 23.5906 5.59263 26.0529C6.47719 28.5153 8.13068 30.6276 10.3086 32.0775C6.36896 33.5295 3.00443 36.2164 0.717025 39.7373C0.596807 39.916 0.513304 40.1168 0.471368 40.328C0.429433 40.5393 0.429903 40.7567 0.47275 40.9678C0.515597 41.1788 0.599966 41.3793 0.720955 41.5574C0.841943 41.7356 0.997137 41.8879 1.17751 42.0056C1.35789 42.1232 1.55986 42.2038 1.77167 42.2427C1.98348 42.2816 2.20091 42.2781 2.41132 42.2322C2.62174 42.1863 2.82094 42.0991 2.99734 41.9756C3.17375 41.8521 3.32384 41.6947 3.4389 41.5127C4.91438 39.2433 6.93337 37.3785 9.31254 36.0876C11.6917 34.7966 14.3557 34.1204 17.0625 34.1204C19.7693 34.1204 22.4333 34.7966 24.8125 36.0876C27.1916 37.3785 29.2106 39.2433 30.6861 41.5127C30.9244 41.8669 31.2926 42.1131 31.711 42.198C32.1294 42.283 32.5645 42.1998 32.9221 41.9666C33.2797 41.7334 33.5311 41.3687 33.622 40.9516C33.713 40.5344 33.6361 40.0983 33.408 39.7373C31.1206 36.2164 27.756 33.5295 23.8164 32.0775ZM8.12499 21.9375C8.12499 20.1698 8.64917 18.4419 9.63123 16.9721C10.6133 15.5023 12.0091 14.3568 13.6423 13.6803C15.2754 13.0039 17.0724 12.8269 18.8061 13.1717C20.5398 13.5166 22.1323 14.3678 23.3823 15.6177C24.6322 16.8677 25.4834 18.4602 25.8283 20.1939C26.1731 21.9276 25.9961 23.7246 25.3197 25.3577C24.6432 26.9909 23.4977 28.3867 22.0279 29.3688C20.5581 30.3508 18.8302 30.875 17.0625 30.875C14.6929 30.8723 12.4212 29.9298 10.7457 28.2543C9.07017 26.5788 8.12768 24.307 8.12499 21.9375ZM50.8097 41.9859C50.4487 42.2213 50.0091 42.3037 49.5874 42.2149C49.1657 42.1262 48.7965 41.8736 48.5611 41.5127C47.0874 39.242 45.0686 37.3763 42.689 36.0859C40.3093 34.7955 37.6445 34.1214 34.9375 34.125C34.5065 34.125 34.0932 33.9538 33.7884 33.6491C33.4837 33.3443 33.3125 32.931 33.3125 32.5C33.3125 32.069 33.4837 31.6557 33.7884 31.351C34.0932 31.0462 34.5065 30.875 34.9375 30.875C36.2537 30.8738 37.5534 30.5818 38.7436 30.0201C39.9339 29.4583 40.9854 28.6406 41.8231 27.6254C42.6607 26.6101 43.2638 25.4224 43.5891 24.147C43.9145 22.8717 43.9542 21.5403 43.7054 20.2478C43.4566 18.9553 42.9253 17.7338 42.1497 16.6705C41.374 15.6071 40.3731 14.7282 39.2184 14.0965C38.0637 13.4649 36.7837 13.096 35.4699 13.0164C34.1561 12.9367 32.841 13.1482 31.6184 13.6358C31.4191 13.722 31.2045 13.7673 30.9874 13.7691C30.7702 13.771 30.5549 13.7293 30.3541 13.6465C30.1534 13.5637 29.9712 13.4415 29.8185 13.2871C29.6658 13.1327 29.5455 12.9493 29.4649 12.7477C29.3842 12.5461 29.3448 12.3303 29.3489 12.1132C29.3531 11.8961 29.4007 11.682 29.489 11.4836C29.5773 11.2852 29.7044 11.1065 29.8629 10.958C30.0214 10.8096 30.2081 10.6944 30.4119 10.6194C33.2098 9.50351 36.3219 9.46336 39.1477 10.5067C41.9736 11.55 44.3129 13.6028 45.7145 16.2691C47.1161 18.9355 47.4805 22.0264 46.7376 24.9456C45.9947 27.8648 44.197 30.4055 41.6914 32.0775C45.631 33.5295 48.9956 36.2164 51.283 39.7373C51.5183 40.0983 51.6007 40.538 51.512 40.9597C51.4232 41.3813 51.1706 41.7505 50.8097 41.9859Z" fill="#E2B50B"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="custom-icons-body-dashboard">
                <div class="d-flex align-items-center w-100">
                    <div class="flex-grow-1">
                        <h3 class="chart--title-number mb-0" id="icons-1number">{{ number_format($settings3['total_number']) }}</h3>
                        <p class="mb-0 chart--title">{{ $settings3['chart_title'] }}
                    </div>
                    <div class="flex-shrink-0">
                        <div class="card-icon store-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" fill="none">
                                <path d="M6.50002 17.9043V17.875C6.49998 14.9859 7.35561 12.1616 8.95897 9.75828C10.5623 7.35497 12.8416 5.48037 15.5091 4.371C18.1767 3.26162 21.1131 2.96717 23.9478 3.5248C26.7826 4.08243 29.3886 5.46714 31.4373 7.50425C33.0491 6.70869 34.8495 6.3742 36.6396 6.53773C38.4296 6.70126 40.1396 7.35645 41.5806 8.43091C43.0217 9.50537 44.1376 10.9573 44.8052 12.6262C45.4728 14.2951 45.666 16.1161 45.3635 17.888C45.8082 17.9293 46.2397 18.0618 46.6309 18.2772C47.0221 18.4927 47.3647 18.7864 47.6374 19.1402C47.91 19.4939 48.1068 19.9001 48.2155 20.3333C48.3242 20.7665 48.3424 21.2174 48.269 21.658C46.8 30.4948 43.1665 36.088 37.375 38.441V40.625C37.375 41.9179 36.8614 43.1579 35.9472 44.0722C35.0329 44.9864 33.7929 45.5 32.5 45.5H19.5C18.2071 45.5 16.9671 44.9864 16.0529 44.0722C15.1386 43.1579 14.625 41.9179 14.625 40.625V38.441C8.83352 36.088 5.20002 30.4948 3.73102 21.658C3.66012 21.2291 3.67598 20.7904 3.77764 20.3678C3.8793 19.9452 4.06471 19.5472 4.32289 19.1976C4.58107 18.8479 4.90678 18.5535 5.28074 18.3319C5.65469 18.1103 6.0693 17.966 6.50002 17.9075V17.9043ZM9.75002 17.875H13C13 15.7201 13.856 13.6535 15.3798 12.1298C16.9035 10.606 18.9701 9.75 21.125 9.75C23.2799 9.75 25.3465 10.606 26.8703 12.1298C28.394 13.6535 29.25 15.7201 29.25 17.875H32.5C32.5 14.8582 31.3016 11.9649 29.1684 9.83166C27.0351 7.69844 24.1419 6.5 21.125 6.5C18.1082 6.5 15.2149 7.69844 13.0817 9.83166C10.9485 11.9649 9.75002 14.8582 9.75002 17.875ZM16.25 17.875H26C26 16.5821 25.4864 15.3421 24.5722 14.4279C23.6579 13.5136 22.4179 13 21.125 13C19.8321 13 18.5921 13.5136 17.6779 14.4279C16.7636 15.3421 16.25 16.5821 16.25 17.875ZM38.5645 17.875H42.0453C42.2906 16.9145 42.3135 15.9107 42.1121 14.9401C41.9108 13.9694 41.4905 13.0576 40.8834 12.2739C40.2762 11.4903 39.4982 10.8556 38.6086 10.4182C37.719 9.98085 36.7413 9.7523 35.75 9.75C34.97 9.75 34.229 9.8865 33.54 10.1368C34.1153 11.0598 34.5898 12.0543 34.9538 13.0975C35.5728 12.944 36.2232 12.9756 36.8245 13.1884C37.4257 13.4013 37.9511 13.7859 38.3357 14.2947C38.7202 14.8035 38.9469 15.414 38.9876 16.0505C39.0283 16.687 38.8812 17.3214 38.5645 17.875ZM34.125 39H17.875V40.625C17.875 41.056 18.0462 41.4693 18.351 41.7741C18.6557 42.0788 19.069 42.25 19.5 42.25H32.5C32.931 42.25 33.3443 42.0788 33.6491 41.7741C33.9538 41.4693 34.125 41.056 34.125 40.625V39ZM16.731 35.75H35.269C40.4235 34.0925 43.6865 29.406 45.0645 21.125H6.93552C8.31352 29.406 11.5765 34.0925 16.731 35.75Z" fill="#0C9100"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-header">
            <h4>{{ $settings2['chart_title'] }}</h4>
        </div>
        <div class="card-body px-0">
            @if(session('status'))
            <div class="alert alert-success" role="alert">
                {{ session('status') }}
            </div>
            @endif
            {{-- Widget - latest entries --}}
            <div class="{{ $settings2['column_class'] }} px-0">

                <table class="table table-hover table-borderless table-striped">
                    <thead>
                        <tr>
                            @foreach($settings2['fields'] as $key => $value)
                            <th>
                                {{ trans(sprintf('cruds.%s.fields.%s', $settings2['translation_key'] ?? 'pleaseUpdateWidget', $key)) }}
                            </th>
                            @endforeach
                        </tr>
                    </thead>
                    <tbody>
                        @forelse($settings2['data'] as $entry)
                        <tr>
                            @foreach($settings2['fields'] as $key => $value)
                            <td>
                                @if($value === '')
                                {{ $entry->{$key} }}
                                @elseif(is_iterable($entry->{$key}))
                                @foreach($entry->{$key} as $subEentry)
                                <span class="label label-info">{{ $subEentry->{$value} }}</span>
                                @endforeach
                                @else
                                {{ data_get($entry, $key . '.' . $value) }}
                                @endif
                            </td>
                            @endforeach
                        </tr>
                        @empty
                        <tr>
                            <td colspan="{{ count($settings2['fields']) }}">{{ __('No entries found') }}</td>
                        </tr>
                        @endforelse
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>
@endsection
@section('scripts')
@parent
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
@endsection
